<!DOCTYPE html>

<html>

<head>
  <meta charset="utf-8">
  <title>My projects</title>
</head>


<body>
  <h1>
    Quiz1
  </h1>
  <input type="file" onchange="readFile(this)">

  <script>
    function myFunc(w, freqMap) {
      if (!freqMap[w])
        freqMap[w] = 0;
      freqMap[w] += 1;
    }

    function WordFreq(string) {
      var words = string.replace(/[.]/g, '').split(/\s/);
      var freqMap = {};
      words.forEach(function (w, index) {
        if (!freqMap[w])
          freqMap[w] = 0;
        if (index != 0 && index != 1)
          freqMap[w] += 1;
      });

      return freqMap;
    }
    function OutputWords(freqMap) {
      let Myx = '', Myy = '';
      let ArrayofValues = Object.values(freqMap);
      let ArrayofKeys = Object.keys(freqMap);
      let finded = false;

      for (let i = 0; i < ArrayofValues.length; i++) {
        if (ArrayofValues[i] === 1 && !finded) {
          Myx = ArrayofKeys[i];
          finded = true;
        }
        else if (ArrayofValues[i] === 1)
          Myy = ArrayofKeys[i];
      }
      alert(`X ` + Myx);
      alert(`Y ` + Myy);
    }
    function readFile(input) {
      let file = input.files[0], file_string, freq_table;

      let reader = new FileReader();

      reader.readAsText(file);

      reader.onload = function () {
        console.log(reader.result);

        file_string = reader.result;
        //file_string = file_string(); 
        console.log(WordFreq(file_string));
        console.log(Object.values(WordFreq(file_string)));
        console.log(Object.keys(WordFreq(file_string)));

        OutputWords(WordFreq(file_string));
      };

      reader.onerror = function () {
        console.log(reader.error);
      };
    }
  </script>
</body>

</html>